/**
 * ============================================================
 * [API λ¨λ“] λ¨λΈ μ‚¬μ©λ‰ μ΅°ν API
 * ============================================================
 *
 * μ—­ν• :
 * - λ΅κ·ΈμΈν• μ‚¬μ©μμ AI λ¨λΈ μΌμΌ μ‚¬μ©λ‰ μ΅°ν
 *
 * μμ •μ‚¬ν•­:
 * - β… endpoint κ²½λ΅ ν†µμΌ (λ΅μ»¬/λ°°ν¬ λ™μΌ)
 * - β… Vercel rewritesκ°€ μλ™μΌλ΅ ν”„λ΅μ‹ μ²λ¦¬
 */

import { http } from "@/api/http";
import { ENV } from "@/utils/constants";

/**
 * ============================================================
 * 1. λ¨λΈ μΌμΌ μ‚¬μ©λ‰ μ΅°ν
 * ============================================================
 *
 * β οΈ μ£Όμ:
 * - λ°±μ—”λ“ μ‹¤μ  κ²½λ΅κ°€ "/api/model/daily-usage"μΈμ§€ ν™•μΈ ν•„μ”!
 * - λ§μ•½ "/api/model/daily-usage"κ°€ λ§λ‹¤λ©΄ μ²« λ²μ§Έ νλΌλ―Έν„°λ¥Ό λ³€κ²½ν•΄μ•Ό ν•¨
 */
async function getModelDailyUsage() {
  // ============================================================
  // β… [μμ •] λ΅μ»¬/λ°°ν¬ λ™μΌν• κ²½λ΅ μ‚¬μ©
  // ============================================================
  // λ³€κ²½ μ „:
  // - λ΅μ»¬: /api/model/daily-usage
  // - λ°°ν¬: /api/model/daily-usage β
  //
  // λ³€κ²½ ν›„:
  // - λ΅μ»¬: /api/model/daily-usage
  // - λ°°ν¬: /api/model/daily-usage β…
  //
  // β οΈ λ°±μ—”λ“ κ°λ°μμ—κ² ν™•μΈ:
  // - μ‹¤μ  μ—”λ“ν¬μΈνΈκ°€ "/api/model/daily-usage"μΈμ§€
  // - λλ” "/api/model/daily-usage"μΈμ§€ ν™•μΈ ν•„μ”!
  // ============================================================
  const endpoint = "/api/model/daily-usage";

  console.group("π“ [λ¨λΈ μ‚¬μ©λ‰ API] μ”μ²­ μ‹μ‘");
  console.log("μ—”λ“ν¬μΈνΈ:", endpoint);
  console.log("ν™κ²½:", ENV.IS_DEVELOPMENT ? "π”¨ λ΅μ»¬" : "π λ°°ν¬");
  console.groupEnd();

  return http.post(endpoint, {});
}

// ============================================================
// Export
// ============================================================
export const modelUsageApi = {
  getModelDailyUsage,
};

export default modelUsageApi;
